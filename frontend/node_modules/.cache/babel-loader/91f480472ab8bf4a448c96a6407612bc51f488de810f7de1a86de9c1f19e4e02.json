{"ast":null,"code":"var _jsxFileName = \"/Users/amryoussef/Documents/interview-task/frontend/src/components/InvoiceDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InvoiceDetails = () => {\n  _s();\n  const {\n    lineNo\n  } = useParams(); // Get the line number from the URL\n  const [units, setUnits] = useState([]);\n  const [invoice, setInvoice] = useState({\n    lineNo: \"\",\n    productName: \"\",\n    unitNo: \"\",\n    price: 0,\n    quantity: 0,\n    total: 0,\n    expiryDate: \"\"\n  });\n  useEffect(() => {\n    const fetchUnits = async () => {\n      const response = await axios.get(\"http://localhost:3000/api/unit\");\n      setUnits(response.data);\n    };\n    const fetchInvoice = async () => {\n      if (lineNo) {\n        const response = await axios.get(`http://localhost:3000/api/invoicedetails/${lineNo}`); // Adjust URL\n        setInvoice(response.data);\n      }\n    };\n    fetchUnits();\n    fetchInvoice();\n  }, [lineNo]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInvoice(prevState => ({\n      ...prevState,\n      [name]: value,\n      total: name === \"price\" || name === \"quantity\" ? prevState.price * prevState.quantity : prevState.total\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await axios.put(`http://localhost:3000/api/invoicedetails/${invoice.lineNo}`, invoice); // Update endpoint\n    alert(\"Invoice updated!\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"lineNo\",\n      value: invoice.lineNo,\n      readOnly: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"productName\",\n      value: invoice.productName,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"unitNo\",\n      value: invoice.unitNo,\n      onChange: handleChange,\n      required: true,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Unit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), units.map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: unit.unitNo,\n        children: unit.unitName\n      }, unit.unitNo, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"price\",\n      value: invoice.price,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"quantity\",\n      value: invoice.quantity,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      name: \"expiryDate\",\n      value: invoice.expiryDate,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Update Invoice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(InvoiceDetails, \"E11IqHksh8Iv4Ie4Q/fgZqwZhK8=\", false, function () {\n  return [useParams];\n});\n_c = InvoiceDetails;\nexport default InvoiceDetails;\nvar _c;\n$RefreshReg$(_c, \"InvoiceDetails\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","jsxDEV","_jsxDEV","InvoiceDetails","_s","lineNo","units","setUnits","invoice","setInvoice","productName","unitNo","price","quantity","total","expiryDate","fetchUnits","response","get","data","fetchInvoice","handleChange","e","name","value","target","prevState","handleSubmit","preventDefault","put","alert","onSubmit","children","type","readOnly","fileName","_jsxFileName","lineNumber","columnNumber","onChange","required","map","unit","unitName","_c","$RefreshReg$"],"sources":["/Users/amryoussef/Documents/interview-task/frontend/src/components/InvoiceDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nconst InvoiceDetails = () => {\n  const { lineNo } = useParams(); // Get the line number from the URL\n  const [units, setUnits] = useState([]);\n  const [invoice, setInvoice] = useState({\n    lineNo: \"\",\n    productName: \"\",\n    unitNo: \"\",\n    price: 0,\n    quantity: 0,\n    total: 0,\n    expiryDate: \"\",\n  });\n\n  useEffect(() => {\n    const fetchUnits = async () => {\n      const response = await axios.get(\"http://localhost:3000/api/unit\");\n      setUnits(response.data);\n    };\n\n    const fetchInvoice = async () => {\n      if (lineNo) {\n        const response = await axios.get(\n          `http://localhost:3000/api/invoicedetails/${lineNo}`\n        ); // Adjust URL\n        setInvoice(response.data);\n      }\n    };\n\n    fetchUnits();\n    fetchInvoice();\n  }, [lineNo]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setInvoice((prevState) => ({\n      ...prevState,\n      [name]: value,\n      total:\n        name === \"price\" || name === \"quantity\"\n          ? prevState.price * prevState.quantity\n          : prevState.total,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await axios.put(\n      `http://localhost:3000/api/invoicedetails/${invoice.lineNo}`,\n      invoice\n    ); // Update endpoint\n    alert(\"Invoice updated!\");\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"number\" name=\"lineNo\" value={invoice.lineNo} readOnly />\n      <input\n        type=\"text\"\n        name=\"productName\"\n        value={invoice.productName}\n        onChange={handleChange}\n        required\n      />\n      <select\n        name=\"unitNo\"\n        value={invoice.unitNo}\n        onChange={handleChange}\n        required\n      >\n        <option value=\"\">Select Unit</option>\n        {units.map((unit) => (\n          <option key={unit.unitNo} value={unit.unitNo}>\n            {unit.unitName}\n          </option>\n        ))}\n      </select>\n      <input\n        type=\"number\"\n        name=\"price\"\n        value={invoice.price}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"number\"\n        name=\"quantity\"\n        value={invoice.quantity}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"date\"\n        name=\"expiryDate\"\n        value={invoice.expiryDate}\n        onChange={handleChange}\n        required\n      />\n      <button type=\"submit\">Update Invoice</button>\n    </form>\n  );\n};\n\nexport default InvoiceDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}