(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(29)},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(13),c=a.n(i),r=(a(21),a(6)),o=a(3);a(22);var u=()=>{const e=Object(o.o)();return l.a.createElement("div",{className:"home"},l.a.createElement("h1",null,"Welcome to the Invoice App"),l.a.createElement("p",null,"Manage your invoices with ease."),l.a.createElement("button",{onClick:()=>e("/invoice-details")},"Invoice Details"),l.a.createElement("button",{onClick:()=>e("/invoice-list")},"Invoice List"))},m=a(30);a(23);var s=()=>{const{id:e}=Object(o.q)(),t=Object(o.o)(),[a,i]=Object(n.useState)([]),[c,r]=Object(n.useState)({productName:"",unitNo:"",price:0,quantity:0,total:0,expiryDate:""});Object(n.useEffect)(()=>{(async()=>{try{const t=await m.a.get("http://localhost:4000/api/units");i(t.data)}catch(e){console.error("Error fetching units:",e)}})(),(async()=>{if(e)try{const a=await m.a.get(`http://localhost:4000/api/invoicedetails/${e}`);console.log("Fetched Invoice Data:",a.data),r({productName:a.data.productName,unitNo:a.data.unitNo,price:Number(a.data.price),quantity:Number(a.data.quantity),total:Number(a.data.total),expiryDate:a.data.expiryDate})}catch(t){console.error("Error fetching invoice details:",t)}})()},[e]);const u=e=>{const{name:t,value:a}=e.target,n="price"===t||"quantity"===t?Number(a):a;r(e=>({...e,[t]:n,total:"price"===t||"quantity"===t?("price"===t?n:e.price)*("quantity"===t?n:e.quantity):e.total}))};return l.a.createElement("form",{onSubmit:async a=>{a.preventDefault();const{productName:n,unitNo:l,price:i,quantity:r,total:o,expiryDate:u}=c,s={productName:n,unitNo:l,price:i,quantity:r,total:o,expiryDate:u};console.log("Submitting Invoice Data:",s);try{e?(await m.a.put(`http://localhost:4000/api/invoicedetails/${e}`,s),alert("Invoice updated!")):(await m.a.post("http://localhost:4000/api/invoicedetails",s),alert("Invoice created!")),t("/invoice-list")}catch(d){console.error("Error saving invoice:",d),alert("Error saving invoice. Please check the console for details.")}}},e&&l.a.createElement("div",null,l.a.createElement("label",null,"Invoice ID:"),l.a.createElement("input",{type:"number",name:"id",value:e,readOnly:!0})),l.a.createElement("div",null,l.a.createElement("label",null,"Product Name:"),l.a.createElement("input",{type:"text",name:"productName",value:c.productName,onChange:u,required:!0})),l.a.createElement("div",null,l.a.createElement("label",null,"Unit:"),l.a.createElement("select",{name:"unitNo",value:c.unitNo,onChange:u,required:!0},l.a.createElement("option",{value:""},"Select Unit"),a.map(e=>l.a.createElement("option",{key:e.unitNo,value:e.unitNo},e.unitName)))),l.a.createElement("div",null,l.a.createElement("label",null,"Price:"),l.a.createElement("input",{type:"number",name:"price",value:c.price,onChange:u,required:!0,step:"0.01"})),l.a.createElement("div",null,l.a.createElement("label",null,"Quantity:"),l.a.createElement("input",{type:"number",name:"quantity",value:c.quantity,onChange:u,required:!0})),l.a.createElement("div",null,l.a.createElement("label",null,"Total:"),l.a.createElement("input",{type:"number",name:"total",value:c.total,readOnly:!0})),l.a.createElement("div",null,l.a.createElement("label",null,"Expiry Date:"),l.a.createElement("input",{type:"date",name:"expiryDate",value:c.expiryDate,onChange:u,required:!0})),l.a.createElement("button",{type:"submit"},e?"Update Invoice":"Create Invoice"),e&&l.a.createElement("button",{onClick:async a=>{a.preventDefault();try{await m.a.delete(`http://localhost:4000/api/invoicedetails/${e}`),console.log(`Invoice with id ${e} deleted successfully`),alert("Invoice deleted!"),t("/invoice-list")}catch(n){console.error("There was an error deleting the invoice:",n),alert("Error deleting invoice. Please check the console for details.")}},style:{marginLeft:"10px"}},"Delete Invoice"))};a(28);var d=()=>{const[e,t]=Object(n.useState)([]),a=Object(o.o)();Object(n.useEffect)(()=>{(async()=>{try{const a=await m.a.get("http://localhost:4000/api/invoicedetails");t(a.data)}catch(e){console.error("Error fetching invoices:",e)}})()},[]);return l.a.createElement("div",{className:"invoice-list"},l.a.createElement("h1",null,"Invoice List"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"id"),l.a.createElement("th",null,"Product Name"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,e.map(n=>l.a.createElement("tr",{key:n.id},l.a.createElement("td",null,n.id),l.a.createElement("td",null,n.productName),l.a.createElement("td",null,l.a.createElement("button",{onClick:()=>a(`/invoice-details/${n.id}`)},"View Details"),l.a.createElement("button",{onClick:()=>(async a=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await m.a.delete(`http://localhost:4000/api/invoicedetails/${a}`),t(e.filter(e=>e.id!==a)),alert("Invoice deleted successfully.")}catch(n){console.error("Error deleting invoice:",n),alert("Error deleting invoice. Please try again.")}})(n.id),style:{marginLeft:"10px"}},"Delete")))))))};var p=()=>l.a.createElement(r.a,null,l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/",element:l.a.createElement(u,null)}),l.a.createElement(o.a,{path:"/invoice-details/:id",element:l.a.createElement(s,null)})," ",l.a.createElement(o.a,{path:"/invoice-details",element:l.a.createElement(s,null)})," ",l.a.createElement(o.a,{path:"/invoice-list",element:l.a.createElement(d,null)}),l.a.createElement(o.a,{path:"*",element:l.a.createElement("div",null,"404 Not Found")})));var E=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,31)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:i,getTTFB:c}=t;a(e),n(e),l(e),i(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null))),E()}},[[15,1,2]]]);
//# sourceMappingURL=main.d6ef48ef.chunk.js.map